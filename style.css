/* ===================== THEME VARIABLES ===================== */
:root {
  --bg1: #0f0f14;
  --bg2: #171723;
  --card: rgba(255,255,255,0.06);
  --card2: rgba(255,255,255,0.08);
  --text: #f2f2f7;
  --muted: rgba(242,242,247,0.72);
  --accent: #ff4d6d;
  --accent2: #ff8fab;
  --ok: #3ddc97;
  --warn: #ffd166;
  --shadow: 0 18px 50px rgba(0,0,0,0.55);
  --radius: 22px;
  --border: 1px solid rgba(255,255,255,0.10);
}

/* ===================== GLOBAL ===================== */
* { box-sizing: border-box; }

body {
  margin: 0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  color: var(--text);
  background:
    radial-gradient(1200px 600px at 20% 10%, rgba(255,77,109,0.25), transparent 55%),
    radial-gradient(900px 500px at 80% 30%, rgba(255,143,171,0.18), transparent 60%),
    linear-gradient(180deg, var(--bg1), var(--bg2));
  min-height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 28px;
}

.wrap { width: 100%; max-width: 720px; }

/* ===================== MOBILE RESPONSIVE ===================== */
@media (max-width: 520px) {
  body { padding: 16px; }

  .wrap { max-width: 100%; }

  h1 { font-size: 24px; }
  .big { font-size: 24px; }

  .card { padding: 16px; }

  .controls { flex-direction: column; }
  .controls button { width: 100%; }

  .finalButtons { flex-direction: column; }
  .finalButtons button { width: 100%; }

  .answer-btn { padding: 14px 12px; }

  .heartBtn { width: 92px; height: 92px; font-size: 40px; }

  .videoWrap { max-width: 100%; }
  .giftImg { width: 100%; }
}


/* ===================== HEADER ===================== */
.top { text-align: center; margin-bottom: 18px; }

.badge {
  display: inline-block;
  padding: 8px 12px;
  border-radius: 999px;
  background: rgba(255,255,255,0.07);
  border: var(--border);
  margin-bottom: 10px;
}

h1 { margin: 6px 0 6px; font-size: 32px; letter-spacing: -0.5px; }
.sub { margin: 0; color: var(--muted); }

/* ===================== CARD ===================== */
.card {
  background: var(--card);
  border: var(--border);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding: 20px;
  backdrop-filter: blur(10px);
}

/* ===================== QUIZ: PROGRESS ===================== */
.progress {
  height: 10px;
  background: rgba(255,255,255,0.08);
  border-radius: 999px;
  overflow: hidden;
  border: var(--border);
}
.progress-bar {
  height: 100%;
  width: 0%;
  background: linear-gradient(90deg, var(--accent), var(--accent2));
  transition: width 0.25s ease;
}

.step {
  margin: 14px 0 6px;
  color: var(--muted);
  font-size: 14px;
}

/* ===================== QUIZ: QUESTION / HINT ===================== */
h2 { margin: 8px 0 8px; font-size: 24px; }
.hint { margin: 0 0 12px; color: rgba(242,242,247,0.65); font-size: 14px; }

/* ===================== QUIZ: ANSWERS ===================== */
.answers {
  display: grid;
  grid-template-columns: 1fr;
  gap: 10px;
  margin: 14px 0 12px;
}

.answer-btn {
  width: 100%;
  text-align: left;
  padding: 14px 14px;
  border-radius: 16px;
  border: var(--border);
  background: rgba(255,255,255,0.06);
  color: var(--text);
  cursor: pointer;
  transition: transform 0.08s ease, background 0.2s ease;
}
.answer-btn, .primary, .ghost, .yes, .no, .heartBtn, .giftPhotoBtn {
  -webkit-tap-highlight-color: transparent;
  touch-action: manipulation;
}

.answer-btn:hover { background: var(--card2); transform: translateY(-1px); }
.answer-btn.selected { outline: 2px solid rgba(255,77,109,0.65); }

/* ===================== QUIZ: NAV BUTTONS ===================== */
.controls {
  display: flex;
  gap: 10px;
  justify-content: space-between;
  margin-top: 10px;
}

button {
  border: none;
  border-radius: 16px;
  padding: 12px 14px;
  font-weight: 700;
  cursor: pointer;
}

.primary {
  background: linear-gradient(90deg, var(--accent), var(--accent2));
  color: #120a0f;
  min-width: 140px;
}
.ghost {
  background: rgba(255,255,255,0.08);
  color: var(--text);
  border: var(--border);
  min-width: 140px;
}
button:disabled { opacity: 0.45; cursor: not-allowed; }

/* ===================== QUIZ: FEEDBACK ===================== */
.feedback { margin: 10px 0 0; min-height: 22px; color: var(--muted); }
.feedback.ok { color: var(--ok); }
.feedback.nope { color: var(--warn); }

.hidden { display: none; }

/* ===================== GENERAL HELPERS ===================== */
.big { text-align: center; font-size: 30px; margin-top: 6px; }
.center { text-align: center; }

/* ===================== FINAL FORM ===================== */
.field {
  display: grid;
  gap: 8px;
  margin: 16px auto 10px;
  max-width: 420px;
  color: var(--muted);
  font-size: 14px;
}
.field input {
  padding: 12px 12px;
  border-radius: 14px;
  border: var(--border);
  background: rgba(0,0,0,0.25);
  color: var(--text);
  outline: none;
}

.finalButtons {
  display: flex;
  gap: 12px;
  justify-content: center;
  margin-top: 12px;
}

.yes {
  background: linear-gradient(90deg, var(--accent), var(--accent2));
  color: #120a0f;
  padding: 14px 18px;
  min-width: 140px;
  border-radius: 18px;
}
.no {
  background: rgba(255,255,255,0.08);
  color: var(--text);
  border: var(--border);
  padding: 14px 18px;
  min-width: 140px;
  border-radius: 18px;
}

.tiny { text-align: center; color: rgba(242,242,247,0.55); margin-top: 10px; font-size: 13px; }

.footer {
  text-align: center;
  margin-top: 14px;
  color: rgba(242,242,247,0.55);
  font-size: 13px;
}

/* ===================== VIDEO INTERLUDE ===================== */
.heartWrap {
  display: flex;
  justify-content: center;
  margin-top: 14px;
}

.heartBtn {
  width: 110px;
  height: 110px;
  border-radius: 999px;
  font-size: 46px;
  background: rgba(255,255,255,0.08);
  border: 1px solid rgba(255,255,255,0.14);
  box-shadow: 0 18px 55px rgba(0,0,0,0.55);
  cursor: pointer;
  transition: transform 0.12s ease;
}

.heartBtn:hover { transform: scale(1.06); }

.videoWrap {
  margin: 16px auto 0;
  max-width: 560px;
}

.videoWrap video {
  width: 100%;
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,0.14);
  background: rgba(0,0,0,0.25);
}
.videoWrap video{
  max-height: 60vh;
}


/* ===================== HEART FX (floating hearts) ===================== */
.fx-layer{
  position: fixed;
  inset: 0;
  pointer-events: none;
  overflow: hidden;
  z-index: 9999;
}

.fx-heart{
  position: absolute;
  font-size: 18px;
  transform: translate(-50%, -50%);
  animation: floatUp 900ms ease-out forwards;
  opacity: 0.95;
  filter: drop-shadow(0 10px 20px rgba(0,0,0,0.4));
}

@keyframes floatUp{
  0%   { transform: translate(-50%, -50%) scale(0.9); opacity: 0.0; }
  15%  { opacity: 1; }
  100% { transform: translate(calc(-50% + var(--dx)), calc(-50% - 140px)) scale(1.25); opacity: 0; }
}

/* ===================== GIFT (old box styles - currently unused) ===================== */
.giftWrap{ display:flex; justify-content:center; margin-top:10px; }
.giftBtn{ background: transparent; border: none; cursor: pointer; padding: 6px; }
.giftBox{ width: 140px; height: 120px; position: relative; transform: translateZ(0); }
.giftBody{ position:absolute; left: 10px; right: 10px; bottom: 0; height: 78px; border-radius: 16px; background: rgba(255,255,255,0.10); border: 1px solid rgba(255,255,255,0.14); }
.giftLid{ position:absolute; left: 6px; right: 6px; top: 20px; height: 34px; border-radius: 16px; background: rgba(255,255,255,0.14); border: 1px solid rgba(255,255,255,0.16); transform-origin: left bottom; transition: transform 420ms ease; }
.giftBow{ position:absolute; top: 8px; left: 50%; width: 18px; height: 88px; transform: translateX(-50%); border-radius: 10px; background: linear-gradient(180deg, rgba(255,77,109,0.9), rgba(255,143,171,0.8)); filter: drop-shadow(0 14px 20px rgba(0,0,0,0.35)); }
.giftBox.open .giftLid{ transform: rotate(-28deg) translate(-8px, -10px); }

/* ===================== GIFT (photo version) ===================== */
.giftPhotoWrap{
  display:flex;
  justify-content:center;
  margin-top:12px;
}

.giftPhotoBtn{
  background: transparent;
  border: none;
  padding: 0;
  cursor: pointer;
  border-radius: 22px;
}

.giftImg{
  width: min(420px, 90vw);
  border-radius: 22px;
  border: 1px solid rgba(255,255,255,0.14);
  box-shadow: 0 18px 55px rgba(0,0,0,0.55);
  transition: transform 180ms ease, filter 180ms ease;
  display:block;
}

.giftPhotoBtn:hover .giftImg{
  transform: scale(1.02);
}

.giftImg.opened{
  animation: popOpen 420ms ease;
}

@keyframes popOpen{
  0% { transform: scale(0.98); }
  60% { transform: scale(1.05); }
  100% { transform: scale(1.00); }
}
